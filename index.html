<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hộp A - Nhập Bit Nhị Phân</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            margin: 30px;
           background-image: url("https://img.tripi.vn/cdn-cgi/image/width=700,height=700/https://gcs.tripi.vn/public-tripi/tripi-feed/img/474095rem/hinh-anh-mat-me-mua-he_044800626.jpg");
        }
        
      
        .container {
            text-align: center;
            border: 3px solid #333;
            padding: 30px;
            border-radius: 10px;
            background-color: #00F7FF;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
             overflow-x: auto; /* scroll ngang */
            overflow-y: auto; /* scroll dọc */
        }
        
        h1 {
            color: red;
            margin-bottom: 30px;
        }
        
        .binary-row {
            display: flex;
            gap: 10px;
            justify-content: left;
            margin-bottom: 15px;
            align-items: flex-start;
        }
       
        .row-number {
            width: 30px;
            height: 40px;
            background-color: #FBE580;
            color: white;
            border: 2px solid #333;
            border-radius: 8px;
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            margin-top: 0;
        }
        
        .binary-row > div:nth-child(4) {
            margin-right: 50px;
        }
        
        .binary-row > div:nth-child(9) {
            margin-right: 100px;
        }
        
        .bit-input.purple {
            background-color: purple;
            color: white;
        }
        
        .number-input {
            width: 40px;
            height: 40px;
            background-color: #9929EA;
            color: #333;
            border: 2px solid #333;
            border-radius: 8px;
            text-align: center;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 2px;
        }
        
        .number-input:focus {
            outline: none;
            border-color: #0066cc;
            box-shadow: 0 0 5px rgba(0, 102, 204, 0.5);
        }
        
        .bit-input {
            width: 40px;
            height: 40px;
            background-color: yellow;
            color: red;
            border: 2px solid #333;
            border-radius: 8px;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        .bit-input:focus {
            outline: none;
            border-color: #0066cc;
            box-shadow: 0 0 5px rgba(0, 102, 204, 0.5);
        }
        
        .bit-label {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        
        .result {
            margin-top: 30px;
            font-size: 18px;
            color: #333;
        }
        
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
        }
        
        button:hover {
            background-color: #45a049;
        }
       
       /* 3 ô đầu hàng 1 luôn đỏ */
.fixed-red {
  background-color: #b00000 !important;
  color: white !important;
  border-color: #ff3b3b !important;
}

/* Nhấp nháy dịu – long lanh nhẹ nhàng */
@keyframes blinkSoft {
  0% {
    box-shadow: 0 0 6px rgba(255, 80, 80, 0.4);
    background: #ff6b6b;
    transform: scale(1);
  }
  50% {
    box-shadow: 
      0 0 18px rgba(255, 120, 120, 0.7),
      0 0 30px rgba(255, 200, 200, 0.4);
    background: #ff8f8f;
    transform: scale(1.03);
  }
  100% {
    box-shadow: 0 0 6px rgba(255, 80, 80, 0.4);
    background: #ff6b6b;
    transform: scale(1);
  }
}

.blink {
  color: #fff;
  font-weight: 700;
  text-shadow: 0 0 4px rgba(0, 0, 0, 0.4);
  animation: blinkSoft 1.2s ease-in-out infinite;
}


    </style>
</head>
<body>
    <div class="container">
        <h1>HỘP A - NHẬP BIT NHỊ PHÂN</h1>
        
       <div class="binary-row">
     <div class="row-number">0</div>

 <!-- Số 4 -->
    <div>
        <input type="text" class="number-input" maxlength="3" id="num0">
           </div>
    
<!-- Số 4 -->
    <div>
            <input type="text" class="number-input" maxlength="3" id="num1">
           </div>
    <!-- Số 5 -->
    <div>
        <input type="text" class="number-input" maxlength="3" id="num2">
           </div>


    <!-- Số 4 -->
    <div>
        <input type="text" class="number-input" maxlength="3" id="num3">
           </div>

    <!-- Số 5 -->
    <div>
        <input type="text" class="number-input" maxlength="3" id="num4">
           </div>

    <!-- Số 6 -->
    <div>
        <input type="text" class="number-input" maxlength="3" id="num5">
           </div>


    <!-- Số 4 -->
    <div>
        <input type="text" class="number-input" maxlength="3" id="num6" oninput="updateTopRowFromNum6()">
    </div>

 <!-- Số 4 -->
    <div>
            <input type="text" class="bit-input fixed-red" maxlength="3" id="num7">
           </div>
    
<!-- Số 4 -->
    <div>
        <input type="text" class="number-input" maxlength="3" id="num8">
           </div>
    <!-- Số 5 -->
    <div>
        <input type="text" class="number-input" maxlength="3" id="num9">
           </div>


    <!-- Số 4 -->
    <div>
        <input type="text" class="number-input" maxlength="3" id="num10">
           </div>

    <!-- Số 5 -->
    <div>
        <input type="text" class="number-input" maxlength="3" id="num11">
           </div>
           
           <!-- Số 5 -->
    <div>
        <input type="text" class="number-input" maxlength="3" id="num12" >
           </div>


   
</div>
        
        <div class="binary-row">
            <div class="row-number">1</div>
            <div>
                <input type="text" class="bit-input fixed-red" maxlength="1" id="bit0" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 0</div>
            </div>
            <div>
                <input type="text" class="bit-input fixed-red" maxlength="1" id="bit1" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 1</div>
            </div>
            <div>
                <input type="text" class="bit-input fixed-red" maxlength="1" id="bit2" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 2</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit3" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 3</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit4" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 4</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit5" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 5</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit6" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 6</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit7" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 7</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit8" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 8</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit9" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 9</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit10" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 10</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit11" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 11</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit12" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 12</div>
            </div>
        </div>
        
        <div class="binary-row">
            <div class="row-number">2</div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit0_2" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 0</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit1_2" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 1</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit2_2" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 2</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit3_2" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 3</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit4_2" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 4</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit5_2" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 5</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit6_2" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 6</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit7_2" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 7</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit8_2" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 8</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit9_2" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 9</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit10_2" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 10</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit11_2" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 11</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit12_2" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 12</div>
            </div>
        </div>
        
        <div class="binary-row">
            <div class="row-number">3</div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit0_3" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 0</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit1_3" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 1</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit2_3" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 2</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit3_3" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 3</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit4_3" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 4</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit5_3" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 5</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit6_3" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 6</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit7_3" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 7</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit8_3" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 8</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit9_3" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 9</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit10_3" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 10</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit11_3" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 11</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit12_3" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 12</div>
            </div>
        </div>
        
        <div class="binary-row">
            <div class="row-number">4</div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit0_4" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 0</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit1_4" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 1</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit2_4" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 2</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit3_4" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 3</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit4_4" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 4</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit5_4" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 5</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit6_4" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 6</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit7_4" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 7</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit8_4" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 8</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit9_4" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 9</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit10_4" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 10</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit11_4" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 11</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit12_4" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 12</div>
            </div>
        </div>
        
        <div class="binary-row">
            <div class="row-number">5</div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit0_5" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 0</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit1_5" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 1</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit2_5" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 2</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit3_5" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 3</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit4_5" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 4</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit5_5" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 5</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit6_5" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 6</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit7_5" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 7</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit8_5" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 8</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit9_5" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 9</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit10_5" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 10</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit11_5" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 11</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit12_5" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 12</div>
            </div>
        </div>
        
        <div class="binary-row">
            <div class="row-number">6</div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit0_6" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 0</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit1_6" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 1</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit2_6" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 2</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit3_6" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 3</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit4_6" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 4</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit5_6" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 5</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit6_6" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 6</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit7_6" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 7</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit8_6" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 8</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit9_6" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 9</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit10_6" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 10</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit11_6" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 11</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit12_6" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 12</div>
            </div>
        </div>
        
        <div class="binary-row">
            <div class="row-number">7</div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit0_7" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 0</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit1_7" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 1</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit2_7" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 2</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit3_7" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 3</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit4_7" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 4</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit5_7" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 5</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit6_7" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 6</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit7_7" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 7</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit8_7" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 8</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit9_7" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 9</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit10_7" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 10</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit11_7" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 11</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit12_7" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 12</div>
            </div>
        </div>
        
        <div class="binary-row">
            <div class="row-number">8</div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit0_8" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 0</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit1_8" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 1</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit2_8" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 2</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit3_8" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 3</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit4_8" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 4</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit5_8" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 5</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit6_8" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 6</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit7_8" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 7</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit8_8" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 8</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit9_8" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 9</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit10_8" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 10</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit11_8" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 11</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit12_8" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 12</div>
            </div>
        </div>
        
        <div class="binary-row">
            <div class="row-number">9</div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit0_9" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 0</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit1_9" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 1</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit2_9" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 2</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit3_9" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 3</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit4_9" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 4</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit5_9" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 5</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit6_9" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 6</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit7_9" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 7</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit8_9" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 8</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit9_9" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 9</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit10_9" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 10</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit11_9" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 11</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit12_9" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 12</div>
            </div>
        </div>
        
        <div class="binary-row">
            <div class="row-number">10</div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit0_10" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 0</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit1_10" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 1</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit2_10" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 2</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit3_10" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 3</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit4_10" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 4</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit5_10" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 5</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit6_10" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 6</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit7_10" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 7</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit8_10" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 8</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit9_10" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 9</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit10_10" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 10</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit11_10" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 11</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit12_10" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 12</div>
            </div>
        </div>
        
        <div class="binary-row">
            <div class="row-number">11</div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit0_11" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 0</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit1_11" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 1</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit2_11" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 2</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit3_11" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 3</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit4_11" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 4</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit5_11" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 5</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit6_11" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 6</div>
            </div>
            <div>
                <input type="text" class="bit-input" maxlength="1" id="bit7_11" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 7</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit8_11" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 8</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit9_11" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 9</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit10_11" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 10</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit11_11" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 11</div>
            </div>
            <div>
                <input type="text" class="bit-input purple" maxlength="1" id="bit12_11" onkeyup="validateBit(this)">
                <div class="bit-label">Bit 12</div>
            </div>
        </div>
        
      
        <button onclick="clearAll()">Xóa Tất Cả</button>
        
        
        <div class="result" id="result"></div>
    </div>

   
      <script>
    const ROWS = 11;
    const BITS = 8;

    const bitChain = [];
    for (let r = 1; r <= ROWS; r++) {
      for (let b = 7; b >= 0; b--) {
        bitChain.push(`bit${b}${r === 1 ? '' : '_' + r}`);
      }
    }
    
    function increaseTopRow() {
  for (let i = 0; i <= 12; i++) {
    const el = document.getElementById(`num${i}`);
    if (!el) continue;
    let v = parseInt(el.value, 10);
    if (isNaN(v)) v = 0;
    el.value = v + 1;
  }
}


    const inputGate = document.getElementById('bit7');
    inputGate.focus();

    inputGate.addEventListener('keyup', () => {
      const v = inputGate.value;
      if (v !== '0' && v !== '1') {
        inputGate.value = '';
        return;
      }
      shiftAll(v);
      increaseTopRow();
      inputGate.value = '';
      inputGate.focus();
      updateRedZeros();
      checkMatchingRows();
    });

    function shiftAll(newBit) {
      for (let i = bitChain.length - 1; i > 0; i--) {
        document.getElementById(bitChain[i]).value =
          document.getElementById(bitChain[i - 1]).value;
      }
      document.getElementById(bitChain[0]).value = newBit;
    }

    document.querySelectorAll('.bit-input').forEach(el => {
      if (el !== inputGate) el.readOnly = true;
    });

    function updateRedZeros() {
      ['bit0', 'bit1', 'bit2'].forEach(id => {
        const el = document.getElementById(id);
        if (el.value !== '') el.style.color = 'white';
      });
    }

    function clearAllFlash() {
      document.querySelectorAll('.flash').forEach(el =>
        el.classList.remove('flash')
      );
    }

  function invertBit(v) {
  if (v === '0') return '1';
  if (v === '1') return '0';
  return '';
}

function getRowBit(row, index) {
  if (row === 1) return document.getElementById(`bit${index}`);
  return document.getElementById(`bit${index}_${row}`);
}

function clearAllBlink() {
  for (let r = 2; r <= 11; r++) {
    for (let i = 0; i < 3; i++) {
      getRowBit(r, i).classList.remove('blink');
    }
  }
}

function clearPurpleBits() {
  for (let r = 2; r <= 11; r++) {
    for (let i = 8; i <= 12; i++) {
      const cell = getRowBit(r, i);
      cell.value = '';
      cell.classList.remove('blink', 'flash');
    }
  }
}

function checkMatchingRows() {
  const baseBits = [0, 1, 2].map(i => getRowBit(1, i).value);

  // hàng 1 chưa đủ 3 bit
  if (!baseBits.every(v => v === '0' || v === '1')) {
    clearAllBlink();
    clearPurpleBits();
    return;
  }

  let matchedRow = null;

  // tìm hàng trùng gần nhất
  for (let r = 2; r <= 11; r++) {
    const rowBits = [0, 1, 2].map(i => getRowBit(r, i).value);
    if (rowBits.join('') === baseBits.join('')) {
      matchedRow = r;
      break;
    }
  }

  // không còn trùng → reset
  if (!matchedRow) {
    clearAllBlink();
    clearPurpleBits();
    return;
  }

  // chỉ giữ nhấp nháy cho hàng đang trùng
  clearAllBlink();
  for (let i = 0; i < 3; i++) {
    getRowBit(matchedRow, i).classList.add('blink');
  }

  // reset toàn bộ ô tím trước
  clearPurpleBits();

  // chỉ đảo bit của hàng đang nhấp nháy
 for (let i = 3; i <= 7; i++) {
  const src = getRowBit(matchedRow, i).value;
  const output = getRowBit(matchedRow, i + 5);

  output.value = invertBit(src);

  // nhấp nháy khi vừa có giá trị
  output.classList.remove('blink');
  void output.offsetWidth; // ép browser reset animation
  output.classList.add('blink');
}
}
function clearAllNums() {
  for (let i = 0; i <= 12; i++) {
    const el = document.getElementById(`num${i}`);
    if (el) el.value = '';
  }
}

function clearAll() {
  // 1. Xóa toàn bộ bit
  document.querySelectorAll('.bit-input').forEach(el => {
    el.value = '';
  });

  // 2. Xóa toàn bộ num (HÀNG 0)
  clearAllNums();

  // 3. Xóa hiệu ứng
  document.querySelectorAll('.blink, .flash').forEach(el => {
    el.classList.remove('blink', 'flash');
  });

  // 4. Xóa kết quả
  const result = document.getElementById('result');
  if (result) result.textContent = '';

  // 5. Focus lại bit7
  inputGate.value = '';
  inputGate.focus();
}


function updateTopRowFromNum6() {
  const baseEl = document.getElementById('num6');
  const base = parseInt(baseEl.value, 10);
  if (isNaN(base)) return;

  // num6 là mốc
  let value = base - 6;

  for (let i = 0; i <= 12; i++) {

    // ❌ bỏ hẳn num7 khỏi dãy
    if (i === 7) continue;

    const el = document.getElementById(`num${i}`);
    if (!el) continue;

    el.value = value;
    value++;
  }


  // ===== focus bit7 sau 2 giây =====
  clearTimeout(window.num6FocusTimer);

  window.num6FocusTimer = setTimeout(() => {
    const bit7 = document.getElementById('bit7');
    if (bit7) {
      bit7.focus();
      bit7.select();
    }
  }, 2000);
}
  
window.addEventListener('load', () => {
    const num6 = document.getElementById('num6');
    if (num6) {
      num6.focus();
      num6.select(); // nếu muốn bôi đen sẵn
    }
  });
</script>

</body>
</html>





